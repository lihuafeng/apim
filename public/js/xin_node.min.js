/*!
 * XIN_NODE SERVICE
 * author:guokui@xin.com
 * date:2018-04-18 14:22
 */
var XIN_NODE=function(z){function w(f){if(y[f])return y[f].exports;var d=y[f]={i:f,l:!1,exports:{}};z[f].call(d.exports,d,d.exports,w);d.l=!0;return d.exports}var y={};w.m=z;w.c=y;w.i=function(f){return f};w.d=function(f,d,b){w.o(f,d)||Object.defineProperty(f,d,{configurable:!1,enumerable:!0,get:b})};w.n=function(f){var d=f&&f.__esModule?function(){return f["default"]}:function(){return f};w.d(d,"a",d);return d};w.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)};w.p="";return w(w.s=
2)}([function(z,w,y){(function(){var f=y(1),d={socket_local:void 0,connected:function(){return void 0!=d.socket_local&&"object"==typeof d.socket_local?!0:!1},send_msg:function(b,a){1==d.connected()?d.socket_local.emit("postMsg",b,a):console.log("websocket service not connect,can not send message!")},init:function(b,a){if(void 0==b||""==b||"string"!=typeof b||void 0==a||"object"!=typeof a)return console.log("node \u670d\u52a1\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e\uff01"),!1;if(1==
d.connected())return!1;(function(){socket=f.connect(b);socket.on("connect",function(){d.socket_local=socket;void 0!=a.connected_callback&&"function"==typeof a.connected_callback&&a.connected_callback(socket)});socket.on("newMsg",function(c){void 0!=a.receive_message_callback&&"function"==typeof a.receive_message_callback&&a.receive_message_callback(c)});socket.on("userJoin",function(c){void 0!=a.user_join_callback&&"function"==typeof a.user_join_callback&&a.user_join_callback(c)});
socket.on("userQuit",function(c){void 0!=a.user_quit_callback&&"function"==typeof a.user_quit_callback&&a.user_quit_callback(c)});socket.on("messageDelete",function(c){void 0!=a.message_delete_callback&&"function"==typeof a.message_delete_callback&&a.message_delete_callback(c)});socket.on("sys_error",function(c){void 0!=a.sys_error_callback&&"function"==typeof a.sys_error_callback&&a.sys_error_callback(c)});socket.on("refreshPage",function(){window.location.reload()});
socket.on("disconnect",function(a){d.socket_local=void 0});socket.on("connect_error",function(a){d.socket_local=void 0});socket.on("connect_timeout",function(a){});socket.on("error",function(c){void 0!=a.sys_error_callback&&"function"==typeof a.sys_error_callback&&a.sys_error_callback(c)});socket.on("reconnect",function(a){});socket.on("reconnect_attempt",function(c){max_attemptNumber=10;void 0!=a.max_attemptNumber&&(max_attemptNumber=a.max_attemptNumber);c>=max_attemptNumber&&(socket.close(),d.socket_local=
void 0,void 0!=a.reconnect_attempt_failed_callback&&"function"==typeof a.reconnect_attempt_failed_callback&&a.reconnect_attempt_failed_callback())});socket.on("reconnecting",function(a){});socket.on("reconnect_error",function(a){});socket.on("reconnect_failed",function(){});socket.on("ping",function(){});socket.on("pong",function(a){})})()}};z.exports=d})()},function(z,w,y){!function(f,d){z.exports=d()}(this,function(){return function(f){function d(a){if(b[a])return b[a].exports;var c=b[a]={exports:{},
id:a,loaded:!1};return f[a].call(c.exports,c,c.exports,d),c.loaded=!0,c.exports}var b={};return d.m=f,d.c=b,d.p="",d(0)}([function(f,d,b){function a(a,d){"object"===("undefined"==typeof a?"undefined":c(a))&&(d=a,a=void 0);d=d||{};var b;a=h(a);var e=a.source,k=a.id,v=a.path;v=l[k]&&v in l[k].nsps;return d.forceNew||d["force new connection"]||!1===d.multiplex||v?(n("ignoring socket cache for %s",e),b=m(e,d)):(l[k]||(n("new io instance for %s",e),l[k]=m(e,d)),b=l[k]),a.query&&!d.query&&(d.query=a.query),
b.socket(a.path,d)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=b(1),g=b(7),m=b(12),n=b(3)("socket.io-client");f.exports=d=a;var l=d.managers={};d.protocol=g.protocol;d.connect=a;d.Manager=b(12);d.Socket=b(37)},function(f,d,b){(function(a){var c=b(2),d=b(3)("socket.io-client:url");f.exports=function(b,h){var g=b;h=h||a.location;null==
b&&(b=h.protocol+"//"+h.host);"string"==typeof b&&("/"===b.charAt(0)&&(b="/"===b.charAt(1)?h.protocol+b:h.host+b),/^(https?|wss?):\/\//.test(b)||(d("protocol-less url %s",b),b="undefined"!=typeof h?h.protocol+"//"+b:"https://"+b),d("parse %s",b),g=c(b));g.port||(/^(http|ws)$/.test(g.protocol)?g.port="80":/^(http|ws)s$/.test(g.protocol)&&(g.port="443"));g.path=g.path||"/";b=-1!==g.host.indexOf(":")?"["+g.host+"]":g.host;return g.id=g.protocol+"://"+b+":"+g.port,g.href=g.protocol+"://"+b+(h&&h.port===
g.port?"":":"+g.port),g}}).call(d,function(){return this}())},function(f,d){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(c){var d=c,g=c.indexOf("["),m=c.indexOf("]");-1!=g&&
-1!=m&&(c=c.substring(0,g)+c.substring(g,m).replace(/:/g,";")+c.substring(m,c.length));c=b.exec(c||"");for(var n={},l=14;l--;)n[a[l]]=c[l]||"";return-1!=g&&-1!=m&&(n.source=d,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n}},function(f,d,b){(function(a){function c(){try{var c=d.storage.debug}catch(n){}return!c&&"undefined"!=typeof a&&"env"in a&&(c=a.env.DEBUG),c}d=f.exports=b(5);d.log=function(){return"object"==
typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};d.formatArgs=function(a){var c=this.useColors;if(a[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+a[0]+(c?"%c ":" ")+"+"+d.humanize(this.diff),c){c="color: "+this.color;a.splice(1,0,c,"color: inherit");var b=0,h=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(b++,"%c"===a&&(h=b))});a.splice(h,0,c)}};d.save=function(a){try{null==a?d.storage.removeItem("debug"):d.storage.debug=a}catch(n){}};d.load=c;d.useColors=
function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&
navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};var h=d;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)var g=chrome.storage.local;else a:{try{g=window.localStorage;break a}catch(m){}g=void 0}h.storage=g;d.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" ");
d.formatters.j=function(a){try{return JSON.stringify(a)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}};d.enable(c())}).call(d,b(4))},function(f,d){function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(e){if(p===setTimeout)return setTimeout(e,0);if((p===b||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(u){try{return p.call(null,e,0)}catch(x){return p.call(this,e,0)}}}function h(e){if(r===
clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(u){try{return r.call(null,e)}catch(x){return r.call(this,e)}}}function g(){k&&q&&(k=!1,q.length?e=q.concat(e):v=-1,e.length&&m())}function m(){if(!k){var a=c(g);k=!0;for(var d=e.length;d;){q=e;for(e=[];++v<d;)q&&q[v].run();v=-1;d=e.length}q=null;k=!1;h(a)}}function n(e,k){this.fun=e;this.array=k}function l(){}f=f.exports={};try{var p="function"==typeof setTimeout?setTimeout:
b}catch(A){p=b}try{var r="function"==typeof clearTimeout?clearTimeout:a}catch(A){r=a}!0;var q,e=[],k=!1,v=-1;f.nextTick=function(a){var d=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)d[b-1]=arguments[b];e.push(new n(a,d));1!==e.length||k||c(m)};n.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=[];f.version="";f.versions={};f.on=l;f.addListener=l;f.once=l;f.off=l;f.removeListener=l;f.removeAllListeners=l;
f.emit=l;f.prependListener=l;f.prependOnceListener=l;f.listeners=function(e){return[]};f.binding=function(e){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(e){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},function(f,d,b){function a(a){var c,b=0;for(c in a)b=(b<<5)-b+a.charCodeAt(c),b|=0;return d.colors[Math.abs(b)%d.colors.length]}function c(c){function b(){if(b.enabled){var a=+new Date;b.diff=a-(g||a);b.prev=g;g=b.curr=
a;var c=Array(arguments.length);for(a=0;a<c.length;a++)c[a]=arguments[a];c[0]=d.coerce(c[0]);"string"!=typeof c[0]&&c.unshift("%O");var h=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(a,e){if("%%"===a)return a;h++;e=d.formatters[e];"function"==typeof e&&(a=e.call(b,c[h]),c.splice(h,1),h--);return a});d.formatArgs.call(b,c);(b.log||d.log||console.log.bind(console)).apply(b,c)}}var g;return b.namespace=c,b.enabled=d.enabled(c),b.useColors=d.useColors(),b.color=a(c),b.destroy=h,"function"==typeof d.init&&
d.init(b),d.instances.push(b),b}function h(){var a=d.instances.indexOf(this);return-1!==a&&(d.instances.splice(a,1),!0)}d=f.exports=c.debug=c["default"]=c;d.coerce=function(a){return a instanceof Error?a.stack||a.message:a};d.disable=function(){d.enable("")};d.enable=function(a){d.save(a);d.names=[];d.skips=[];var c,b=("string"==typeof a?a:"").split(/[\s,]+/),h=b.length;for(c=0;c<h;c++)b[c]&&(a=b[c].replace(/\*/g,".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+
a+"$")));for(c=0;c<d.instances.length;c++)a=d.instances[c],a.enabled=d.enabled(a.namespace)};d.enabled=function(a){if("*"===a[a.length-1])return!0;var c;var b=0;for(c=d.skips.length;b<c;b++)if(d.skips[b].test(a))return!1;b=0;for(c=d.names.length;b<c;b++)if(d.names[b].test(a))return!0;return!1};d.humanize=b(6);d.instances=[];d.names=[];d.skips=[];d.formatters={}},function(f,d){function b(a){if(a=String(a),!(100<a.length))if(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a)){var b=
parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return b*n;case "days":case "day":case "d":return b*m;case "hours":case "hour":case "hrs":case "hr":case "h":return b*g;case "minutes":case "minute":case "mins":case "min":case "m":return b*h;case "seconds":case "second":case "secs":case "sec":case "s":return b*c;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return b}}}function a(a,c,b){if(!(a<c))return a<1.5*c?Math.floor(a/
c)+" "+b:Math.ceil(a/c)+" "+b+"s"}var c=1E3,h=60*c,g=60*h,m=24*g,n=365.25*m;f.exports=function(d,f){f=f||{};var r=typeof d;if("string"===r&&0<d.length)return b(d);if("number"===r&&!1===isNaN(d))return f["long"]?a(d,m,"day")||a(d,g,"hour")||a(d,h,"minute")||a(d,c,"second")||d+" ms":d>=m?Math.round(d/m)+"d":d>=g?Math.round(d/g)+"h":d>=h?Math.round(d/h)+"m":d>=c?Math.round(d/c)+"s":d+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d));}},function(f,d,b){function a(){}
function c(a){var e=""+a.type;if(d.BINARY_EVENT!==a.type&&d.BINARY_ACK!==a.type||(e+=a.attachments+"-"),a.nsp&&"/"!==a.nsp&&(e+=a.nsp+","),null!=a.id&&(e+=a.id),null!=a.data){try{var c=JSON.stringify(a.data)}catch(A){c=!1}if(!1===c)return q;e+=c}return n("encoded %j as %s",a,e),e}function h(a,k){l.removeBlobs(a,function(a){var e=l.deconstructPacket(a);a=c(e.packet);e=e.buffers;e.unshift(a);k(e)})}function g(){this.reconstructor=null}function m(a){this.reconPack=a;this.buffers=[]}var n=b(3)("socket.io-parser");
f=b(8);var l=b(9),p=b(10),r=b(11);d.protocol=4;d.types="CONNECT DISCONNECT EVENT ACK ERROR BINARY_EVENT BINARY_ACK".split(" ");d.CONNECT=0;d.DISCONNECT=1;d.EVENT=2;d.ACK=3;d.ERROR=4;d.BINARY_EVENT=5;d.BINARY_ACK=6;d.Encoder=a;d.Decoder=g;var q=d.ERROR+'"encode error"';a.prototype.encode=function(a,k){(n("encoding packet %j",a),d.BINARY_EVENT===a.type||d.BINARY_ACK===a.type)?h(a,k):(a=c(a),k([a]))};f(g.prototype);g.prototype.add=function(a){if("string"==typeof a){a:{var k=0,e={type:Number(a.charAt(0))};
if(null==d.types[e.type])a={type:d.ERROR,data:"parser error: unknown packet type "+e.type};else{if(d.BINARY_EVENT===e.type||d.BINARY_ACK===e.type){for(var c="";"-"!==a.charAt(++k)&&(c+=a.charAt(k),k!=a.length););if(c!=Number(c)||"-"!==a.charAt(k))throw Error("Illegal attachments");e.attachments=Number(c)}if("/"===a.charAt(k+1))for(e.nsp="";++k;){c=a.charAt(k);if(","===c)break;if(e.nsp+=c,k===a.length)break}else e.nsp="/";c=a.charAt(k+1);if(""!==c&&Number(c)==c){for(e.id="";++k;){c=a.charAt(k);if(null==
c||Number(c)!=c){--k;break}if(e.id+=a.charAt(k),k===a.length)break}e.id=Number(e.id)}if(a.charAt(++k)){k=a.substr(k);try{var b=JSON.parse(k)}catch(x){b=!1}if(!1===b||e.type!==d.ERROR&&!p(b)){a={type:d.ERROR,data:"parser error: invalid payload"};break a}e.data=b}a=(n("decoded %s as %j",a,e),e)}}d.BINARY_EVENT===a.type||d.BINARY_ACK===a.type?(this.reconstructor=new m(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else{if(!r(a)&&!a.base64)throw Error("Unknown type: "+
a);if(!this.reconstructor)throw Error("got binary data when not reconstructing a packet");(a=this.reconstructor.takeBinaryData(a))&&(this.reconstructor=null,this.emit("decoded",a))}};g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};m.prototype.takeBinaryData=function(a){return(this.buffers.push(a),this.buffers.length===this.reconPack.attachments)?(a=l.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};m.prototype.finishedReconstruction=
function(){this.reconPack=null;this.buffers=[]}},function(f,d,b){function a(c){if(c){for(var b in a.prototype)c[b]=a.prototype[b];return c}}f.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this};a.prototype.once=function(a,b){function c(){this.off(a,c);b.apply(this,arguments)}return c.fn=b,this.on(a,c),this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=
a.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,h=0;h<c.length;h++)if(d=c[h],d===b||d.fn===b){c.splice(h,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks["$"+a];if(b){b=b.slice(0);for(var d=0,f=b.length;d<
f;++d)b[d].apply(this,c)}return this};a.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(f,d,b){(function(a){function c(a,b){if(!a)return a;if(f(a)){var e={_placeholder:!0,num:b.length};return b.push(a),e}if(g(a)){e=Array(a.length);for(var k=0;k<a.length;k++)e[k]=c(a[k],b);return e}if("object"==typeof a&&!(a instanceof Date)){e={};for(k in a)e[k]=c(a[k],b);return e}return a}
function h(a,b){if(!a)return a;if(a&&a._placeholder)return b[a.num];if(g(a))for(var e=0;e<a.length;e++)a[e]=h(a[e],b);else if("object"==typeof a)for(e in a)a[e]=h(a[e],b);return a}var g=b(10),f=b(11),n=Object.prototype.toString,l="function"==typeof a.Blob||"[object BlobConstructor]"===n.call(a.Blob),p="function"==typeof a.File||"[object FileConstructor]"===n.call(a.File);d.deconstructPacket=function(a){var b=[];return a.data=c(a.data,b),a.attachments=b.length,{packet:a,buffers:b}};d.reconstructPacket=
function(a,b){return a.data=h(a.data,b),a.attachments=void 0,a};d.removeBlobs=function(a,b){function e(a,d,h){if(!a)return a;if(l&&a instanceof Blob||p&&a instanceof File){k++;var q=new FileReader;q.onload=function(){h?h[d]=this.result:c=this.result;--k||b(c)};q.readAsArrayBuffer(a)}else if(g(a))for(q=0;q<a.length;q++)e(a[q],q,a);else if("object"==typeof a&&!f(a))for(q in a)e(a[q],q,a)}var k=0,c=a;e(c);k||b(c)}}).call(d,function(){return this}())},function(f,d){var b={}.toString;f.exports=Array.isArray||
function(a){return"[object Array]"==b.call(a)}},function(f,d){(function(b){f.exports=function(h){return a&&b.Buffer.isBuffer(h)||c&&(h instanceof b.ArrayBuffer||d(h))};var a="function"==typeof b.Buffer&&"function"==typeof b.Buffer.isBuffer,c="function"==typeof b.ArrayBuffer,d=function(){return c&&"function"==typeof b.ArrayBuffer.isView?b.ArrayBuffer.isView:function(a){return a.buffer instanceof b.ArrayBuffer}}()}).call(d,function(){return this}())},function(f,d,b){function a(e,b){if(!(this instanceof
a))return new a(e,b);e&&"object"===("undefined"==typeof e?"undefined":c(e))&&(b=e,e=void 0);b=b||{};b.path=b.path||"/socket.io";this.nsps={};this.subs=[];this.opts=b;this.reconnection(!1!==b.reconnection);this.reconnectionAttempts(b.reconnectionAttempts||1/0);this.reconnectionDelay(b.reconnectionDelay||1E3);this.reconnectionDelayMax(b.reconnectionDelayMax||5E3);this.randomizationFactor(b.randomizationFactor||.5);this.backoff=new q({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});
this.timeout(null==b.timeout?2E4:b.timeout);this.readyState="closed";this.uri=e;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];e=b.parser||m;this.encoder=new e.Encoder;this.decoder=new e.Decoder;(this.autoConnect=!1!==b.autoConnect)&&this.open()}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=b(13),g=b(37);d=
b(8);var m=b(7),n=b(39),l=b(40),p=b(3)("socket.io-client:manager"),r=b(36),q=b(41),e=Object.prototype.hasOwnProperty;f.exports=a;a.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)e.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};a.prototype.updateSocketIds=function(){for(var a in this.nsps)e.call(this.nsps,a)&&(this.nsps[a].id=this.generateId(a))};a.prototype.generateId=function(a){return("/"===a?"":a+"#")+this.engine.id};d(a.prototype);a.prototype.reconnection=
function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection};a.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts};a.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay};a.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),
this):this._randomizationFactor};a.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax};a.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout};a.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};a.prototype.open=a.prototype.connect=function(a,e){if(p("readyState %s",this.readyState),
~this.readyState.indexOf("open"))return this;p("opening %s",this.uri);var b=this.engine=h(this.uri,this.opts),c=this;this.readyState="opening";this.skipReconnect=!1;var k=n(b,"open",function(){c.onopen();a&&a()});e=n(b,"error",function(e){if(p("connect_error"),c.cleanup(),c.readyState="closed",c.emitAll("connect_error",e),a){var b=Error("Connection error");b.data=e;a(b)}else c.maybeReconnectOnOpen()});if(!1!==this._timeout){var d=this._timeout;p("connect attempt will timeout after %d",d);var q=setTimeout(function(){p("connect attempt timed out after %d",
d);k.destroy();b.close();b.emit("error","timeout");c.emitAll("connect_timeout",d)},d);this.subs.push({destroy:function(){clearTimeout(q)}})}return this.subs.push(k),this.subs.push(e),this};a.prototype.onopen=function(){p("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(n(a,"data",l(this,"ondata")));this.subs.push(n(a,"ping",l(this,"onping")));this.subs.push(n(a,"pong",l(this,"onpong")));this.subs.push(n(a,"error",l(this,"onerror")));this.subs.push(n(a,
"close",l(this,"onclose")));this.subs.push(n(this.decoder,"decoded",l(this,"ondecoded")))};a.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};a.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};a.prototype.ondata=function(a){this.decoder.add(a)};a.prototype.ondecoded=function(a){this.emit("packet",a)};a.prototype.onerror=function(a){p("error",a);this.emitAll("error",a)};a.prototype.socket=function(a,e){function b(){~r(d.connecting,c)||d.connecting.push(c)}
var c=this.nsps[a];if(!c){c=new g(this,a,e);this.nsps[a]=c;var d=this;c.on("connecting",b);c.on("connect",function(){c.id=d.generateId(a)});this.autoConnect&&b()}return c};a.prototype.destroy=function(a){a=r(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||this.close()};a.prototype.packet=function(a){p("writing packet %j",a);var e=this;a.query&&0===a.type&&(a.nsp+="?"+a.query);e.encoding?e.packetBuffer.push(a):(e.encoding=!0,this.encoder.encode(a,function(b){for(var c=0;c<
b.length;c++)e.engine.write(b[c],a.options);e.encoding=!1;e.processPacketQueue()}))};a.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};a.prototype.cleanup=function(){p("cleanup");for(var a=this.subs.length,e=0;e<a;e++)this.subs.shift().destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};a.prototype.close=a.prototype.disconnect=function(){p("disconnect");this.skipReconnect=
!0;this.reconnecting=!1;"opening"===this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};a.prototype.onclose=function(a){p("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};a.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),
this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();p("will wait %dms before reconnect attempt",e);this.reconnecting=!0;var b=setTimeout(function(){a.skipReconnect||(p("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(e){e?(p("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",e.data)):(p("reconnect success"),
a.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(b)}})}};a.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},function(f,d,b){f.exports=b(14);f.exports.parser=b(21)},function(f,d,b){(function(a){function c(b,e){if(!(this instanceof c))return new c(b,e);e=e||{};b&&"object"==typeof b&&(e=b,b=null);b?(b=p(b),e.hostname=b.host,e.secure="https"===b.protocol||"wss"===b.protocol,
e.port=b.port,b.query&&(e.query=b.query)):e.host&&(e.hostname=p(e.host).host);this.secure=null!=e.secure?e.secure:a.location&&"https:"===location.protocol;e.hostname&&!e.port&&(e.port=this.secure?"443":"80");this.agent=e.agent||!1;this.hostname=e.hostname||(a.location?location.hostname:"localhost");this.port=e.port||(a.location&&location.port?location.port:this.secure?443:80);this.query=e.query||{};"string"==typeof this.query&&(this.query=r.decode(this.query));this.upgrade=!1!==e.upgrade;this.path=
(e.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!e.forceJSONP;this.jsonp=!1!==e.jsonp;this.forceBase64=!!e.forceBase64;this.enablesXDR=!!e.enablesXDR;this.timestampParam=e.timestampParam||"t";this.timestampRequests=e.timestampRequests;this.transports=e.transports||["polling","websocket"];this.transportOptions=e.transportOptions||{};this.readyState="";this.writeBuffer=[];this.prevBufferLen=0;this.policyPort=e.policyPort||843;this.rememberUpgrade=e.rememberUpgrade||!1;this.binaryType=
null;this.onlyBinaryUpgrades=e.onlyBinaryUpgrades;this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{});!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=e.pfx||null;this.key=e.key||null;this.passphrase=e.passphrase||null;this.cert=e.cert||null;this.ca=e.ca||null;this.ciphers=e.ciphers||null;this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized;
this.forceNode=!!e.forceNode;b="object"==typeof a&&a;b.global===b&&(e.extraHeaders&&0<Object.keys(e.extraHeaders).length&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress));this.pingTimeoutTimer=this.pingIntervalTimer=this.pingTimeout=this.pingInterval=this.upgrades=this.id=null;this.open()}var d=b(15),g=b(8),m=b(3)("engine.io-client:socket"),n=b(36),l=b(21),p=b(2),r=b(30);f.exports=c;c.priorWebsocketSuccess=!1;g(c.prototype);c.protocol=l.protocol;c.Socket=c;c.Transport=
b(20);c.transports=b(15);c.parser=b(21);c.prototype.createTransport=function(a){m('creating transport "%s"',a);var e=this.query,b={},c;for(c in e)e.hasOwnProperty(c)&&(b[c]=e[c]);b.EIO=l.protocol;b.transport=a;e=this.transportOptions[a]||{};this.id&&(b.sid=this.id);return new d[a]({query:b,socket:this,agent:e.agent||this.agent,hostname:e.hostname||this.hostname,port:e.port||this.port,secure:e.secure||this.secure,path:e.path||this.path,forceJSONP:e.forceJSONP||this.forceJSONP,jsonp:e.jsonp||this.jsonp,
forceBase64:e.forceBase64||this.forceBase64,enablesXDR:e.enablesXDR||this.enablesXDR,timestampRequests:e.timestampRequests||this.timestampRequests,timestampParam:e.timestampParam||this.timestampParam,policyPort:e.policyPort||this.policyPort,pfx:e.pfx||this.pfx,key:e.key||this.key,passphrase:e.passphrase||this.passphrase,cert:e.cert||this.cert,ca:e.ca||this.ca,ciphers:e.ciphers||this.ciphers,rejectUnauthorized:e.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:e.perMessageDeflate||this.perMessageDeflate,
extraHeaders:e.extraHeaders||this.extraHeaders,forceNode:e.forceNode||this.forceNode,localAddress:e.localAddress||this.localAddress,requestTimeout:e.requestTimeout||this.requestTimeout,protocols:e.protocols||void 0})};c.prototype.open=function(){if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))var a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState=
"opening";try{a=this.createTransport(a)}catch(k){return this.transports.shift(),void this.open()}a.open();this.setTransport(a)};c.prototype.setTransport=function(a){m("setting transport %s",a.name);var b=this;this.transport&&(m("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};
c.prototype.probe=function(a){function b(){if(l.onlyBinaryUpgrades){var b=!this.supportsBinary&&l.transport.supportsBinary;p=p||b}p||(m('probe transport "%s" opened',a),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(b){if(!p)if("pong"===b.type&&"probe"===b.data){if(m('probe transport "%s" pong',a),l.upgrading=!0,l.emit("upgrading",t),t)c.priorWebsocketSuccess="websocket"===t.name,m('pausing current transport "%s"',l.transport.name),l.transport.pause(function(){p||"closed"!==l.readyState&&
(m("changing transport and sending upgrade packet"),B(),l.setTransport(t),t.send([{type:"upgrade"}]),l.emit("upgrade",t),t=null,l.upgrading=!1,l.flush())})}else m('probe transport "%s" failed',a),b=Error("probe error"),b.transport=t.name,l.emit("upgradeError",b)}))}function d(){p||(p=!0,B(),t.close(),t=null)}function h(b){var e=Error("probe error: "+b);e.transport=t.name;d();m('probe transport "%s" failed because of error: %s',a,b);l.emit("upgradeError",e)}function f(){h("transport closed")}function q(){h("socket closed")}
function g(a){t&&a.name!==t.name&&(m('"%s" works - aborting "%s"',a.name,t.name),d())}function B(){t.removeListener("open",b);t.removeListener("error",h);t.removeListener("close",f);l.removeListener("close",q);l.removeListener("upgrading",g)}m('probing transport "%s"',a);var t=this.createTransport(a,{probe:1}),p=!1,l=this;c.priorWebsocketSuccess=!1;t.once("open",b);t.once("error",h);t.once("close",f);this.once("close",q);this.once("upgrading",g);t.open()};c.prototype.onOpen=function(){if(m("socket open"),
this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){m("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(a){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(m('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),
a.type){case "open":this.onHandshake(JSON.parse(a.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var b=Error("server error");b.code=a.data;this.onError(b);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else m('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;
this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!==b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){m("writing ping packet - expecting pong within %sms",
a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})};c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(m("flushing %d packets in socket",this.writeBuffer.length),
this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this};c.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!==this.readyState&&"closed"!==this.readyState)c=c||{},c.compress=!1!==c.compress,a={type:a,data:b,options:c},this.emit("packetCreate",a),this.writeBuffer.push(a),d&&this.once("flush",
d),this.flush()};c.prototype.close=function(){function a(){d.onClose("forced close");m("socket closing - telling transport to close");d.transport.close()}function b(){d.removeListener("upgrade",b);d.removeListener("upgradeError",b);a()}function c(){d.once("upgrade",b);d.once("upgradeError",b)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this};
c.prototype.onError=function(a){m("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,b){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)m('socket close with reason: "%s"',a),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=
null,this.emit("close",a,b),this.writeBuffer=[],this.prevBufferLen=0};c.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;c<d;c++)~n(this.transports,a[c])&&b.push(a[c]);return b}}).call(d,function(){return this}())},function(f,d,b){(function(a){var c=b(16),h=b(18),f=b(33),m=b(34);d.polling=function(b){var d,g=!1,m=!1,n=!1!==b.jsonp;a.location&&(m="https:"===location.protocol,(g=location.port)||(g=m?443:80),g=b.hostname!==location.hostname||g!==b.port,m=b.secure!==m);if(b.xdomain=g,
b.xscheme=m,d=new c(b),"open"in d&&!b.forceJSONP)return new h(b);if(!n)throw Error("JSONP disabled");return new f(b)};d.websocket=m}).call(d,function(){return this}())},function(f,d,b){(function(a){var c=b(17);f.exports=function(b){var d=b.xdomain,h=b.xscheme;b=b.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!d||c))return new XMLHttpRequest}catch(n){}try{if("undefined"!=typeof XDomainRequest&&!h&&b)return new XDomainRequest}catch(n){}if(!d)try{return new (a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}}).call(d,
function(){return this}())},function(f,d){try{f.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(b){f.exports=!1}},function(f,d,b){(function(a){function c(){}function d(b){if(l.call(this,b),this.requestTimeout=b.requestTimeout,this.extraHeaders=b.extraHeaders,a.location){var c="https:"===location.protocol,e=location.port;e||(e=c?443:80);this.xd=b.hostname!==a.location.hostname||e!==b.port;this.xs=b.secure!==c}}function g(a){this.method=a.method||"GET";this.uri=
a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!==a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.requestTimeout=a.requestTimeout;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders;this.create()}function m(){for(var a in g.requests)g.requests.hasOwnProperty(a)&&
g.requests[a].abort()}var n=b(16),l=b(19),p=b(8),r=b(31),q=b(3)("engine.io-client:polling-xhr");f.exports=d;f.exports.Request=g;r(d,l);d.prototype.supportsBinary=!0;d.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,
a.requestTimeout=this.requestTimeout,a.extraHeaders=this.extraHeaders,new g(a)};d.prototype.doWrite=function(a,b){a=this.request({method:"POST",data:a,isBinary:"string"!=typeof a&&void 0!==a});var c=this;a.on("success",b);a.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=a};d.prototype.doPoll=function(){q("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",function(a){b.onError("xhr poll error",a)});this.pollXhr=a};p(g.prototype);g.prototype.create=
function(){var b={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};b.pfx=this.pfx;b.key=this.key;b.passphrase=this.passphrase;b.cert=this.cert;b.ca=this.ca;b.ciphers=this.ciphers;b.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new n(b),d=this;try{q("xhr open %s: %s",this.method,this.uri);c.open(this.method,this.uri,this.async);try{if(this.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(var h in this.extraHeaders)this.extraHeaders.hasOwnProperty(h)&&
c.setRequestHeader(h,this.extraHeaders[h])}}catch(u){}if("POST"===this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(u){}try{c.setRequestHeader("Accept","*/*")}catch(u){}"withCredentials"in c&&(c.withCredentials=!0);this.requestTimeout&&(c.timeout=this.requestTimeout);this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){if(2===
c.readyState)try{var a=c.getResponseHeader("Content-Type");d.supportsBinary&&"application/octet-stream"===a&&(c.responseType="arraybuffer")}catch(x){}4===c.readyState&&(200===c.status||1223===c.status?d.onLoad():setTimeout(function(){d.onError(c.status)},0))};q("xhr data %s",this.data);c.send(this.data)}catch(u){return void setTimeout(function(){d.onError(u)},0)}a.document&&(this.index=g.requestsCount++,g.requests[this.index]=this)};g.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
g.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};g.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};g.prototype.cleanup=function(b){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,b)try{this.xhr.abort()}catch(k){}a.document&&delete g.requests[this.index];this.xhr=null}};g.prototype.onLoad=function(){try{try{var a=this.xhr.getResponseHeader("Content-Type")}catch(v){}var b="application/octet-stream"===
a?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(v){this.onError(v)}null!=b&&this.onData(b)};g.prototype.hasXDR=function(){return"undefined"!=typeof a.XDomainRequest&&!this.xs&&this.enablesXDR};g.prototype.abort=function(){this.cleanup()};g.requestsCount=0;g.requests={};a.document&&(a.attachEvent?a.attachEvent("onunload",m):a.addEventListener&&a.addEventListener("beforeunload",m,!1))}).call(d,function(){return this}())},function(f,d,b){function a(a){var b=a&&a.forceBase64;l&&
!b||(this.supportsBinary=!1);c.call(this,a)}var c=b(20),h=b(30),g=b(21);d=b(31);var m=b(32),n=b(3)("engine.io-client:polling");f.exports=a;var l=null!=(new (b(16))({xdomain:!1})).responseType;d(a,c);a.prototype.name="polling";a.prototype.doOpen=function(){this.poll()};a.prototype.pause=function(a){function b(){n("paused");c.readyState="paused";a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(n("we are currently polling - waiting to pause"),d++,this.once("pollComplete",
function(){n("pre-pause polling complete");--d||b()}));this.writable||(n("we are currently writing - waiting to pause"),d++,this.once("drain",function(){n("pre-pause writing complete");--d||b()}))}else b()};a.prototype.poll=function(){n("polling");this.polling=!0;this.doPoll();this.emit("poll")};a.prototype.onData=function(a){var b=this;n("polling got data %s",a);g.decodePayload(a,this.socket.binaryType,function(a,c,d){return"opening"===b.readyState&&b.onOpen(),"close"===a.type?(b.onClose(),!1):void b.onPacket(a)});
"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():n('ignoring poll - transport state "%s"',this.readyState))};a.prototype.doClose=function(){function a(){n("writing close packet");b.write([{type:"close"}])}var b=this;"open"===this.readyState?(n("transport open - closing"),a()):(n("transport not open - deferring close"),this.once("open",a))};a.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0;b.emit("drain")};
g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})};a.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&(a[this.timestampParam]=m());this.supportsBinary||a.sid||(a.b64=1);a=h.encode(a);this.port&&("https"===b&&443!==Number(this.port)||"http"===b&&80!==Number(this.port))&&(c=":"+this.port);a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},function(f,
d,b){function a(a){this.path=a.path;this.hostname=a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.forceNode=a.forceNode;this.extraHeaders=a.extraHeaders;
this.localAddress=a.localAddress}var c=b(21);d=b(8);f.exports=a;d(a.prototype);a.prototype.onError=function(a,b){a=Error(a);return a.type="TransportError",a.description=b,this.emit("error",a),this};a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this};a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this};a.prototype.send=function(a){if("open"!==this.readyState)throw Error("Transport not open");
this.write(a)};a.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};a.prototype.onData=function(a){a=c.decodePacket(a,this.socket.binaryType);this.onPacket(a)};a.prototype.onPacket=function(a){this.emit("packet",a)};a.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},function(f,d,b){(function(a){function c(a,b,c){if(!b)return d.encodeBase64Packet(a,c);var e=new FileReader;return e.onload=function(){a.data=e.result;d.encodePacket(a,b,!0,
c)},e.readAsArrayBuffer(a.data)}function h(a,b,c){var d=Array(a.length);c=p(a.length,c);for(var e=function(a,c,e){b(c,function(b,c){d[a]=c;e(b,d)})},k=0;k<a.length;k++)e(k,a[k],c)}var f,m=b(22),n=b(23),l=b(24),p=b(25),r=b(26);a&&a.ArrayBuffer&&(f=b(28));var q="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),e="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),k=q||e;d.protocol=3;var v=d.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},A=m(v),
u={type:"error",data:"parser error"},x=b(29);d.encodePacket=function(b,e,h,f){"function"==typeof e&&(f=e,e=!1);"function"==typeof h&&(f=h,h=null);var g=void 0===b.data?void 0:b.data.buffer||b.data;if(a.ArrayBuffer&&g instanceof ArrayBuffer){if(e){h=b.data;e=new Uint8Array(h);h=new Uint8Array(1+h.byteLength);h[0]=v[b.type];for(b=0;b<e.length;b++)h[b+1]=e[b];b=f(h.buffer)}else b=d.encodeBase64Packet(b,f);return b}if(x&&g instanceof a.Blob)return e?k?b=c(b,e,f):(e=new Uint8Array(1),e[0]=v[b.type],b=
new x([e.buffer,b.data]),b=f(b)):b=d.encodeBase64Packet(b,f),b;if(g&&g.base64)return f("b"+d.packets[b.type]+b.data.data);e=v[b.type];return void 0!==b.data&&(e+=h?r.encode(String(b.data),{strict:!1}):String(b.data)),f(""+e)};d.encodeBase64Packet=function(b,c){var e="b"+d.packets[b.type];if(x&&b.data instanceof a.Blob){var k=new FileReader;return k.onload=function(){var a=k.result.split(",")[1];c(e+a)},k.readAsDataURL(b.data)}try{var h=String.fromCharCode.apply(null,new Uint8Array(b.data))}catch(E){b=
new Uint8Array(b.data);h=Array(b.length);for(var f=0;f<b.length;f++)h[f]=b[f];h=String.fromCharCode.apply(null,h)}return e+=a.btoa(h),c(e)};d.decodePacket=function(a,b,c){if(void 0===a)return u;if("string"==typeof a){if("b"===a.charAt(0))return d.decodeBase64Packet(a.substr(1),b);if(b=c){b=a;try{b=r.decode(b,{strict:!1})}catch(C){b=!1}b=(a=b,!1===a)}if(b)return u;c=a.charAt(0);return Number(c)==c&&A[c]?1<a.length?{type:A[c],data:a.substring(1)}:{type:A[c]}:u}c=(new Uint8Array(a))[0];a=l(a,1);return x&&
"blob"===b&&(a=new x([a])),{type:A[c],data:a}};d.decodeBase64Packet=function(a,b){var c=A[a.charAt(0)];if(!f)return{type:c,data:{base64:!0,data:a.substr(1)}};a=f.decode(a.substr(1));return"blob"===b&&x&&(a=new x([a])),{type:c,data:a}};d.encodePayload=function(a,b,c){function e(a,c){d.encodePacket(a,!!f&&b,!1,function(a){c(null,a.length+":"+a)})}"function"==typeof b&&(c=b,b=null);var f=n(a);return b&&f?x&&!k?d.encodePayloadAsBlob(a,c):d.encodePayloadAsArrayBuffer(a,c):a.length?void h(a,e,function(a,
b){return c(b.join(""))}):c("0:")};d.decodePayload=function(a,b,c){if("string"!=typeof a)return d.decodePayloadAsBinary(a,b,c);"function"==typeof b&&(c=b,b=null);var e;if(""===a)return c(u,0,1);for(var k,h,f="",g=0,l=a.length;g<l;g++){var m=a.charAt(g);if(":"===m){if(""===f||f!=(k=Number(f))||(h=a.substr(g+1,k),f!=h.length))return c(u,0,1);if(h.length){if(e=d.decodePacket(h,b,!1),u.type===e.type&&u.data===e.data)return c(u,0,1);if(!1===c(e,g+k,l))return}g+=k;f=""}else f+=m}return""!==f?c(u,0,1):void 0};
d.encodePayloadAsArrayBuffer=function(a,b){function c(a,b){d.encodePacket(a,!0,!0,function(a){return b(null,a)})}return a.length?void h(a,c,function(a,c){a=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0);var d=new Uint8Array(a),e=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){c=new Uint8Array(a.length);for(var k=0;k<a.length;k++)c[k]=a.charCodeAt(k);c=c.buffer}b?d[e++]=0:d[e++]=1;a=c.byteLength.toString();for(k=0;k<a.length;k++)d[e++]=
parseInt(a[k]);d[e++]=255;c=new Uint8Array(c);for(k=0;k<c.length;k++)d[e++]=c[k]}),b(d.buffer)}):b(new ArrayBuffer(0))};d.encodePayloadAsBlob=function(a,b){h(a,function(a,b){d.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer;c[0]=0}d=(a instanceof ArrayBuffer?a.byteLength:a.size).toString();var k=new Uint8Array(d.length+1);for(e=0;e<d.length;e++)k[e]=parseInt(d[e]);if(k[d.length]=
255,x)a=new x([c.buffer,k.buffer,a]),b(null,a)})},function(a,c){return b(new x(c))})};d.decodePayloadAsBinary=function(a,b,c){"function"==typeof b&&(c=b,b=null);for(var e=[];0<a.byteLength;){for(var k=new Uint8Array(a),h=0===k[0],f="",g=1;255!==k[g];g++){if(310<f.length)return c(u,0,1);f+=k[g]}a=l(a,2+f.length);f=parseInt(f);k=l(a,0,f);if(h)try{k=String.fromCharCode.apply(null,new Uint8Array(k))}catch(F){for(h=new Uint8Array(k),k="",g=0;g<h.length;g++)k+=String.fromCharCode(h[g])}e.push(k);a=l(a,
f)}var m=e.length;e.forEach(function(a,e){c(d.decodePacket(a,b,!0),e,m)})}}).call(d,function(){return this}())},function(f,d){f.exports=Object.keys||function(b){var a=[],c=Object.prototype.hasOwnProperty,d;for(d in b)c.call(b,d)&&a.push(d);return a}},function(f,d,b){(function(a){function c(b){if(!b||"object"!=typeof b)return!1;if(d(b)){for(var h=0,f=b.length;h<f;h++)if(c(b[h]))return!0;return!1}if("function"==typeof a.Buffer&&a.Buffer.isBuffer&&a.Buffer.isBuffer(b)||"function"==typeof a.ArrayBuffer&&
b instanceof ArrayBuffer||m&&b instanceof Blob||n&&b instanceof File)return!0;if(b.toJSON&&"function"==typeof b.toJSON&&1===arguments.length)return c(b.toJSON(),!0);for(h in b)if(Object.prototype.hasOwnProperty.call(b,h)&&c(b[h]))return!0;return!1}var d=b(10),g=Object.prototype.toString,m="function"==typeof a.Blob||"[object BlobConstructor]"===g.call(a.Blob),n="function"==typeof a.File||"[object FileConstructor]"===g.call(a.File);f.exports=c}).call(d,function(){return this}())},function(f,d){f.exports=
function(b,a,c){var d=b.byteLength;if(a=a||0,c=c||d,b.slice)return b.slice(a,c);if(0>a&&(a+=d),0>c&&(c+=d),c>d&&(c=d),a>=d||a>=c||0===d)return new ArrayBuffer(0);b=new Uint8Array(b);d=new Uint8Array(c-a);for(var f=0;a<c;a++,f++)d[f]=b[a];return d.buffer}},function(f,d){function b(){}f.exports=function(a,c,d){function f(a,b){if(0>=f.count)throw Error("after called too many times");--f.count;a?(h=!0,c(a),c=d):0!==f.count||h||c(null,b)}var h=!1;return d=d||b,f.count=a,0===a?c():f}},function(f,d,b){var a;
(function(b,f){!function(c){function f(a){for(var b,c,d=[],e=0,k=a.length;e<k;)b=a.charCodeAt(e++),55296<=b&&56319>=b&&e<k?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function h(a,b){if(55296<=a&&57343>=a){if(b)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function g(){if(e>=q)throw Error("Invalid byte index");var a=255&r[e];if(e++,128==(192&a))return 63&a;throw Error("Invalid continuation byte");
}function p(a){var b,c,d,k,f;if(e>q)throw Error("Invalid byte index");if(e==q)return!1;if(b=255&r[e],e++,0==(128&b))return b;if(192==(224&b)){if(c=g(),f=(31&b)<<6|c,128<=f)return f;throw Error("Invalid continuation byte");}if(224==(240&b)){if(c=g(),d=g(),f=(15&b)<<12|c<<6|d,2048<=f)return h(f,a)?f:65533;throw Error("Invalid continuation byte");}if(240==(248&b)&&(c=g(),d=g(),k=g(),f=(7&b)<<18|c<<12|d<<6|k,65536<=f&&1114111>=f))return f;throw Error("Invalid UTF-8 detected");}c="object"==typeof d&&d;
"object"==typeof b&&b&&b.exports==c&&b;var r,q,e,k=String.fromCharCode;a={version:"2.1.2",encode:function(a,b){b=b||{};b=!1!==b.strict;a=f(a);for(var c=a.length,d=-1,e="";++d<c;){var g=a[d];var m=b;if(0==(4294967168&g))m=k(g);else{var l="";m=(0==(4294965248&g)?l=k(g>>6&31|192):0==(4294901760&g)?(h(g,m)||(g=65533),l=k(g>>12&15|224),l+=k(g>>6&63|128)):0==(4292870144&g)&&(l=k(g>>18&7|240),l+=k(g>>12&63|128),l+=k(g>>6&63|128)),l+k(63&g|128))}e+=m}return e},decode:function(a,b){b=b||{};b=!1!==b.strict;
r=f(a);q=r.length;e=0;var c;for(a=[];!1!==(c=p(b));)a.push(c);c=a.length;for(var d=-1,h="";++d<c;)b=a[d],65535<b&&(b-=65536,h+=k(b>>>10&1023|55296),b=56320|1023&b),h+=k(b);return h}};!(void 0!==a&&(b.exports=a))}(this)}).call(d,b(27)(f),function(){return this}())},function(f,d){f.exports=function(b){return b.webpackPolyfill||(b.deprecate=function(){},b.paths=[],b.children=[],b.webpackPolyfill=1),b}},function(f,d){!function(){for(var b=new Uint8Array(256),a=0;64>a;a++)b["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=
a;d.encode=function(a){var b=new Uint8Array(a),c=b.length,d="";for(a=0;a<c;a+=3)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a]>>2],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&b[a])<<4|b[a+1]>>4],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&b[a+1])<<2|b[a+2]>>6],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&b[a+2]];return 2===c%3?d=d.substring(0,d.length-1)+"=":1===c%3&&(d=d.substring(0,
d.length-2)+"=="),d};d.decode=function(a){var c=.75*a.length;var d=a.length,f=0;"="===a[a.length-1]&&(c--,"="===a[a.length-2]&&c--);var n=new ArrayBuffer(c),l=new Uint8Array(n);for(c=0;c<d;c+=4){var p=b[a.charCodeAt(c)];var r=b[a.charCodeAt(c+1)];var q=b[a.charCodeAt(c+2)];var e=b[a.charCodeAt(c+3)];l[f++]=p<<2|r>>4;l[f++]=(15&r)<<4|q>>2;l[f++]=(3&q)<<6|63&e}return n}}()},function(f,d){(function(b){function a(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;
if(c.byteLength!==d.byteLength){var k=new Uint8Array(c.byteLength);k.set(new Uint8Array(d,c.byteOffset,c.byteLength));d=k.buffer}a[b]=d}}}function c(b,c){c=c||{};var d=new g;a(b);for(var e=0;e<b.length;e++)d.append(b[e]);return c.type?d.getBlob(c.type):d.getBlob()}function d(b,c){return a(b),new Blob(b,c||{})}var g=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder;try{var m=2===(new Blob(["hi"])).size}catch(p){m=!1}var n;if(n=m)try{n=2===(new Blob([new Uint8Array([1,2])])).size}catch(p){n=
!1}var l=g&&g.prototype.append&&g.prototype.getBlob;f.exports=m?n?b.Blob:d:l?c:void 0}).call(d,function(){return this}())},function(f,d){d.encode=function(b){var a="",c;for(c in b)b.hasOwnProperty(c)&&(a.length&&(a+="&"),a+=encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return a};d.decode=function(b){var a={};b=b.split("&");for(var c=0,d=b.length;c<d;c++){var f=b[c].split("=");a[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return a}},function(f,d){f.exports=function(b,a){var c=function(){};
c.prototype=a.prototype;b.prototype=new c;b.prototype.constructor=b}},function(f,d){function b(a){var b="";do b=h[a%g]+b,a=Math.floor(a/g);while(0<a);return b}function a(){var a=b(+new Date);return a!==c?(n=0,c=a):a+"."+b(n++)}for(var c,h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),g=64,m={},n=0,l=0;l<g;l++)m[h[l]]=l;a.encode=b;a.decode=function(a){var b=0;for(l=0;l<a.length;l++)b=b*g+m[a.charAt(l)];return b};f.exports=a},function(f,d,b){(function(a){function c(){}
function d(b){g.call(this,b);this.query=this.query||{};n||(a.___eio||(a.___eio=[]),n=a.___eio);this.index=n.length;var d=this;n.push(function(a){d.onData(a)});this.query.j=this.index;a.document&&a.addEventListener&&a.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=c)},!1)}var g=b(19),m=b(31);f.exports=d;var n,l=/\n/g,p=/\\n/g;m(d,g);d.prototype.supportsBinary=!1;d.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&
(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null);g.prototype.doClose.call(this)};d.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b);this.script=b;"undefined"!=
typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};d.prototype.doWrite=function(a,b){function c(){d();b()}function d(){if(f.iframe)try{f.form.removeChild(f.iframe)}catch(t){f.onError("jsonp polling iframe removal error",t)}try{h=document.createElement('<iframe src="javascript:0" name="'+f.iframeId+'">')}catch(t){h=document.createElement("iframe"),h.name=f.iframeId,h.src=
"javascript:0"}h.id=f.iframeId;f.form.appendChild(h);f.iframe=h}var f=this;if(!this.form){var h,g=document.createElement("form"),m=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;g.className="socketio";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";g.target=n;g.method="POST";g.setAttribute("accept-charset","utf-8");m.name="d";g.appendChild(m);document.body.appendChild(g);this.form=g;this.area=m}this.form.action=this.uri();d();a=a.replace(p,"\\\n");
this.area.value=a.replace(l,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===f.iframe.readyState&&c()}:this.iframe.onload=c}}).call(d,function(){return this}())},function(f,d,b){(function(a){function c(a){a&&a.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=a.perMessageDeflate;this.usingBrowserWebSocket=r&&!a.forceNode;this.protocols=a.protocols;this.usingBrowserWebSocket||(e=q);d.call(this,a)}var d=b(20),g=b(21),m=
b(30),n=b(31),l=b(32),p=b(3)("engine.io-client:websocket"),r=a.WebSocket||a.MozWebSocket;if("undefined"==typeof window)try{var q=b(35)}catch(k){}var e=r;e||"undefined"!=typeof window||(e=q);f.exports=c;n(c,d);c.prototype.name="websocket";c.prototype.supportsBinary=!0;c.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=this.protocols,c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=
this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(c.headers=this.extraHeaders);this.localAddress&&(c.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?b?new e(a,b):new e(a):new e(a,b,c)}catch(u){return this.emit("error",u)}void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};c.prototype.addEventListeners=
function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(b){a.onData(b.data)};this.ws.onerror=function(b){a.onError("websocket error",b)}};c.prototype.write=function(b){function c(){d.emit("flush");setTimeout(function(){d.writable=!0;d.emit("drain")},0)}var d=this;this.writable=!1;for(var e=b.length,f=0,k=e;f<k;f++)!function(b){g.encodePacket(b,d.supportsBinary,function(f){if(!d.usingBrowserWebSocket){var k={};(b.options&&(k.compress=
b.options.compress),d.perMessageDeflate)&&("string"==typeof f?a.Buffer.byteLength(f):f.length)<d.perMessageDeflate.threshold&&(k.compress=!1)}try{d.usingBrowserWebSocket?d.ws.send(f):d.ws.send(f,k)}catch(D){p("websocket closed before onclose event")}--e||c()})}(b[f])};c.prototype.onClose=function(){d.prototype.onClose.call(this)};c.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()};c.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"===
b&&443!==Number(this.port)||"ws"===b&&80!==Number(this.port))&&(c=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=l());this.supportsBinary||(a.b64=1);a=m.encode(a);a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a};c.prototype.check=function(){return!(!e||"__initialize"in e&&this.name===c.prototype.name)}}).call(d,function(){return this}())},function(f,d){},function(f,d){var b=[].indexOf;f.exports=function(a,
c){if(b)return a.indexOf(c);for(var d=0;d<a.length;++d)if(a[d]===c)return d;return-1}},function(f,d,b){function a(a,b,c){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.flags={};c&&c.query&&(this.query=c.query);this.io.autoConnect&&this.open()}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=b(7);d=b(8);var g=b(38),m=b(39),n=b(40),l=b(3)("socket.io-client:socket"),p=b(30),r=b(23);f.exports=a;var q={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},e=d.prototype.emit;d(a.prototype);a.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[m(a,"open",n(this,"onopen")),m(a,"packet",n(this,"onpacket")),
m(a,"close",n(this,"onclose"))]}};a.prototype.open=a.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)};a.prototype.send=function(){var a=g(arguments);return a.unshift("message"),this.emit.apply(this,a),this};a.prototype.emit=function(a){if(q.hasOwnProperty(a))return e.apply(this,arguments),this;var b=g(arguments),c={type:(void 0!==this.flags.binary?this.flags.binary:r(b))?h.BINARY_EVENT:
h.EVENT,data:b};return c.options={},c.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),c.id=this.ids++),this.connected?this.packet(c):this.sendBuffer.push(c),this.flags={},this};a.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};a.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var a="object"===c(this.query)?p.encode(this.query):
this.query;l("sending connect packet with query %s",a);this.packet({type:h.CONNECT,query:a})}else this.packet({type:h.CONNECT})};a.prototype.onclose=function(a){l("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};a.prototype.onpacket=function(a){if(a.nsp===this.nsp)switch(a.type){case h.CONNECT:this.onconnect();break;case h.EVENT:this.onevent(a);break;case h.BINARY_EVENT:this.onevent(a);break;case h.ACK:this.onack(a);break;case h.BINARY_ACK:this.onack(a);
break;case h.DISCONNECT:this.ondisconnect();break;case h.ERROR:this.emit("error",a.data)}};a.prototype.onevent=function(a){var b=a.data||[];l("emitting event %j",b);null!=a.id&&(l("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?e.apply(this,b):this.receiveBuffer.push(b)};a.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=g(arguments);l("sending ack %j",d);b.packet({type:r(d)?h.BINARY_ACK:h.ACK,id:a,data:d})}}};a.prototype.onack=function(a){var b=
this.acks[a.id];"function"==typeof b?(l("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):l("bad ack %s",a.id)};a.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};a.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)e.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};a.prototype.ondisconnect=
function(){l("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};a.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};a.prototype.close=a.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:h.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this};a.prototype.compress=function(a){return this.flags.compress=
a,this};a.prototype.binary=function(a){return this.flags.binary=a,this}},function(f,d){f.exports=function(b,a){for(var c=[],d=(a=a||0)||0;d<b.length;d++)c[d-a]=b[d];return c}},function(f,d){f.exports=function(b,a,c){return b.on(a,c),{destroy:function(){b.removeListener(a,c)}}}},function(f,d){var b=[].slice;f.exports=function(a,c){if("string"==typeof c&&(c=a[c]),"function"!=typeof c)throw Error("bind() requires a function");var d=b.call(arguments,2);return function(){return c.apply(a,d.concat(b.call(arguments)))}}},
function(f,d){function b(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}f.exports=b;b.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),d=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-d:a+d}return 0|Math.min(a,this.max)};b.prototype.reset=function(){this.attempts=0};b.prototype.setMin=function(a){this.ms=a};b.prototype.setMax=function(a){this.max=
a};b.prototype.setJitter=function(a){this.jitter=a}}])})},function(z,w,y){y(0);z.exports=y(0)}]);